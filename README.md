# 수학과프로그래밍_개인 project : 저격 홀덤
# 목차
- [프로젝트 선정 이유](#프로젝트-선정-이유)
- [게임 규칙 소개](#게임-규칙-소개)
- [코드 설명](#코드-설명)
- [실행 결과](#실행-결과)
- [피드백](#피드백)

# 프로젝트 선정 이유
#### 
위 게임은 최근 방영된 '데블스플랜2'라는 프로그램에서 패자부활전에 등장하였던 게임입니다. 평소, 두뇌 추리 프로그램을 즐겨 보던 제가 '데블스플랜2' 라는 프로그램을 접하게 되었는데, 해당 프로그램에서 나온 많은 게임들 중에서도 '저격 홀덤'이라는 게임이 굉장히 인상깊게 남았습니다. 그래서, 프로젝트 과제가 생길 때부터 이 게임을 구현해야겠다는 생각을 항상 하였습니다.

# 게임 규칙 소개
####
먼저, 해당 게임은 텍사스 홀덤을 기본적인 구조로 사용한다는 점을 알려드립니다. 위 게임은 더 많은 인원으로 시작해도 상관없지만, 4명에서 게임을 시작할 때가 가장 흥미로울 것이라고 예측되어 게임 시작 인원이 4명이 상태를 구현하였습니다. 가장 먼저, 숫자 카드 1부터 10까지를 총 4세트 준비합니다. 이후, 공통으로 사용할 수 있는 카드 4장을 뽑아서 모두가 볼 수 있는 공개 카드로 설정하고 2장씩 개인에게 카드를 나누어주어 비공개카드로 지정하고 본인만 볼 수 있도록 합니다. 이제, 칩 상황에 대해서 말씀드리겠습니다. 모든 플레이어는 60개의 칩씩 초기에 가지고 있습니다. 배팅을 할 때에는 최소 1개부터 본인이 가지고 있는 칩 수까지 배팅이 가능하며, 이 때, 1개를 배팅한다는 것은 해당라운드를 포기한다는 것을 의미합니다. 즉, 2개부터가 라운드에 참여한다는 것을 알 수 있습니다. 그렇게, 카드 분배가 모두 종료된 후에는 플레이어의 순서대로 배팅을 1번씩만 진행합니다. 실제 게임에서는 본인의 카드패를 본인만 확인할 수 있지만, Python에서는 그럴 수가 없으므로, 터미널에서 한명씩 개인카드를 확인하도록 합니다. 그렇게, 개인 비공개 카드까지 확인이 종료된 후에는 저격라운드를 시작합니다. 플레이어는 공개 카드를 토대로 하여 저격할 조합을 한개씩 선택합니다. 이 때, 특정 플레이어들의 패에 저격된 조합이 포함되어 있다면 그 조합은 사용할 수 없게 됩니다. 이런 식으로 저격라운드까지 종료가 된 후에는 카드 조합의 우위 순서대로 승자가 결정됩니다. 카드 우위 순서는 다음과 같습니다. 포카드 > 풀하우스 > 스트레이트 > 트리플 > 투페어 > 원페어 > 하이카드 순서대로 우위를 점하게 되고, 동일 조합에서는 카드의 넘버가 더 높은 쪽이 이기게 됩니다. 위 게임은 한명이 남을 때까지 진행해야 하므로, 어떤 플레이어가 75개 칩 이상을 보유하게 되면 이 게임에서 생존하게 됩니다. 이 때, 생존한 플레이어의 칩 수가 75개 이상이면 그 칩 수에서 75개를 제외한 나머지 칩 수를 남아있는 플레이어들에게 균등하게 분배합니다. 나머지 칩 수가 자연수가 아닐 경우에는 버림의 방식을 차용하여 분배합니다. 이렇게, 게임은 1명이 남을 때까지 진행합니다.

# 코드 설명
가장 먼저, import문을 활용하여 카드를 무작위하게 분배해 줄 random과 카드 개수를 카운팅 해줄 Counter를 불러옵니다.

1. 카드 덱 생성 및 카드 조합 등록 함수 설명

![스크린샷 2025-06-22 오전 9 35 33](https://github.com/user-attachments/assets/af0e42c6-52ff-41f1-9619-56f936cba76d)

- 카드 덱인 1부터 10까지의 세트를 총 4개 생성시킨 뒤, 해당 카드 덱으로 나올 수 있는 조합들을 규칙에 알맞게 등록시킵니다.

<br>
2. 플레이어 클래스 설명

![스크린샷 2025-06-22 오전 9 37 24](https://github.com/user-attachments/assets/729290a2-7e01-46d8-849c-009b17b5ae14)

- 각 플레이어들에 대한 정보들을 입력할 수 있는 클래스를 생성합니다.

<br>
3. 메인 클래스 설명

- 이 코드는 SniperHoldem이라는 메인 클래스를 통해 게임이 진행됩니다. 이 클래스는 많은 함수들로 구성되어있고 순서대로 설명드리겠습니다.

![스크린샷 2025-06-22 오전 9 40 31](https://github.com/user-attachments/assets/93e6b35f-d8cd-4994-81d4-bd1b1525a304)

- 먼저, 이 게임을 진행하는 데에 있어서 기본적으로 필요한 정보들을 선언합니다. 이후, 공통으로 사용할 수 있는 공개 카드 4장, 개인이 사용할 수 있는 비공개 카드를 2장씩 분배해주는 함수를 선언합니다. 또한, 배팅을 할 수 있는 함수까지 만들어줍니다. 이 때, 게임의 규칙대로 배팅 칩의 개수를 1개로 입력하면 칩의 수를 1개 소모하면서 게임을 포기한다는 것으로 간주됩니다.

![스크린샷 2025-06-22 오전 9 44 59](https://github.com/user-attachments/assets/3bdb339b-18cd-4e89-a6dd-2287506bb5db)

- 이후, 각 플레이어마다 공개 카드를 기반으로 하여, 저격을 진행하고 저격에 성공한 조합이 있다면 저격 성공을 알려주는 것까지 함수로 구현하였습니다.

![스크린샷 2025-06-22 오전 9 46 26](https://github.com/user-attachments/assets/e9e3feda-079b-4236-9abb-27d175976135)

- 앞선 함수에서 저격에 성공한 조합이 있다면, 라운드 결과 처리 함수에서는 저격된 조합이 자동적으로 제외되고, 승자에게 배팅된 칩을 모두 제공하는 것까지 구현하였습니다.

![스크린샷 2025-06-22 오전 10 01 41](https://github.com/user-attachments/assets/5dae045b-908f-419c-8881-c4e606a680fc)

- 라운드가 종료된 후에는, 보유한 칩의 개수를 통해 탈출이 가능한 플레이어 혹은 탈락하는 플레이어를 골라내야 하기 때문에 해당 시스템을 반영한 함수를 구현하였습니다. 그리고, 다음라운드도 진행하여야 하기 때문에 라운드가 종료된 뒤에 상태를 보여주는 테이블이 나오도록 설정하였습니다.

![스크린샷 2025-06-22 오전 10 05 55](https://github.com/user-attachments/assets/438d6dae-d723-4df8-b5b4-f9a934f94bbf)

- 게임을 시작하는 함수는 라운드가 시작하고 플레이어의 인원 수대로 게임이 진행되도록 설정하였습니다.


# 실행 결과


# 피드백
####
코드를 실행시켜 게임을 처음부터 종료될 때까지 구동하면 모두 정상적으로 돌아간다는 사실을 알 수 있습니다. 하지만, 핵심적으로 보완해야한다고 판단되는 부분도 있었습니다. 바로, n번째 플레이어가 다른 플레이어들의 hidden card를 확인하는 과정에서 terminal에 이미 (n-1)번째 플레이어까지 다른 플레이어들의 hidden card를 확인하는 과정이 모두 작성되어있다는 점입니다. r을 입력했을 때, 본인만 그 과정을 볼 수 있어야하고 기록이 자동적으로 지워지게끔 하는 코드로 수정해야합니다. 하지만, terminal에서 이 부분이 보이지 않게 하는 방법이 도저히 떠오르지 않았고 따라서, 코드를 그대로 둘 수 밖에 없었습니다. 그래서 만약, 실제 상황에서 이 툴을 그대로 활용하여 게임을 진행하여야 한다면, 사회자가 한 명 존재하여 상황을 조율하면서 게임을 진행해야합니다.
# project
